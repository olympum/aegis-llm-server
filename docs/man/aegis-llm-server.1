.TH AEGIS-LLM-SERVER 1 "2026-02-22" "aegis-llm-server" "User Commands"
.SH NAME
aegis-llm-server \- OpenAI-compatible local model server (embeddings-first)
.SH SYNOPSIS
.B aegis-llm-server
[
.B --host
.I HOST
]
[
.B --port
.I PORT
]
.SH DESCRIPTION
.B aegis-llm-server
serves local model capabilities over HTTP, currently focused on embeddings.
Gateway routing, policy, and provider abstraction remain in
.BR aegis-llm-proxy .
.SH ENDPOINTS
.TP
.B GET /health
Service health and backend readiness.
.TP
.B GET /v1/models
List advertised embedding model aliases.
.TP
.B POST /v1/embeddings
Generate embeddings using local backend(s).
.SH CONFIGURATION
Environment prefix:
.BR AEGIS_LLM_SERVER_ .
.TP
.B AEGIS_LLM_SERVER_SERVER__HOST
Bind host (default:
.BR 0.0.0.0 )
.TP
.B AEGIS_LLM_SERVER_SERVER__PORT
Bind port (default:
.BR 8181 )
.TP
.B AEGIS_LLM_SERVER_EMBEDDING__ENABLED
Enable embeddings backend (default:
.BR true )
.TP
.B AEGIS_LLM_SERVER_EMBEDDING__BACKEND
Backend implementation (for example
.B deterministic
or
.BR sentence_transformers ).
.TP
.B AEGIS_LLM_SERVER_EMBEDDING__MODEL_NAME
Default embedding model identifier.
.TP
.B AEGIS_LLM_SERVER_EMBEDDING__MAX_BATCH_SIZE
Maximum number of input strings accepted per embeddings request (default:
.BR 64 ).
.TP
.B AEGIS_LLM_SERVER_EMBEDDING__MAX_INPUT_CHARS
Maximum character length per input string (default:
.BR 32768 ).
.TP
.B AEGIS_LLM_SERVER_EMBEDDING__MAX_TOTAL_CHARS
Maximum total character length across all input strings in one request (default:
.BR 262144 ).
.TP
.B AEGIS_LLM_SERVER_EMBEDDING__BACKEND_TIMEOUT_SECONDS
Maximum time to wait for backend embedding generation before returning upstream error (default:
.BR 30 ).
.TP
.B AEGIS_LLM_SERVER_TELEMETRY__ENABLED
Enable OpenTelemetry tracing export (default:
.BR false ).
.TP
.B AEGIS_LLM_SERVER_TELEMETRY__OTLP_ENDPOINT
OTLP collector base URL or traces URL (default:
.BR http://127.0.0.1:4318 ).
.TP
.B AEGIS_LLM_SERVER_TELEMETRY__OTLP_TIMEOUT_SECONDS
OTLP export timeout in seconds (default:
.BR 10 ).
.TP
.B AEGIS_LLM_SERVER_TELEMETRY__METRICS_EXPORT_INTERVAL_MS
Metrics export interval in milliseconds (default:
.BR 5000 ).
.TP
.B AEGIS_LLM_SERVER_TELEMETRY__SAMPLE_RATIO
Trace sampling ratio between
.BR 0.0
and
.BR 1.0
(default:
.BR 1.0 ).
.SH CONTRACT
See:
.I docs/contracts/openai-embeddings-compatible-v1.md
.SH EXAMPLE
.EX
aegis-llm-server --host 127.0.0.1 --port 8181

curl -sS -X POST http://127.0.0.1:8181/v1/embeddings \\
  -H 'content-type: application/json' \\
  -d '{"model":"nomic-embed-text","input":"hello world"}'
.EE
.SH EXIT STATUS
.TP
.B 0
Server exited normally.
.TP
.B >0
Startup or runtime failure.
